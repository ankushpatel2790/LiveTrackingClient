/*******************************************************************************
 * Copyright (c) 2017 Sierra Wireless and others.
 * 
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * and Eclipse Distribution License v1.0 which accompany this distribution.
 * 
 * The Eclipse Public License is available at
 *    http://www.eclipse.org/legal/epl-v10.html
 * and the Eclipse Distribution License is available at
 *    http://www.eclipse.org/org/documents/edl-v10.html.
 * 
 * Contributors:
 *     Sierra Wireless - initial API and implementation
 *******************************************************************************/
package org.eclipse.leshan.client.demo;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class CoordinatesUtils {
    private static int LAT_LONG_COUNT;
    private static final Logger LOG = LoggerFactory.getLogger(CoordinatesUtils.class);
    private String[] latLongArray;
    private float latitude;
    private float longitude;

    CoordinatesUtils() {
        // saveLatLongInList();
    }

    public static void main(String[] args) {
        CoordinatesUtils coordinatesUtils = new CoordinatesUtils();
        coordinatesUtils.saveLatLongInList();
        // coordinatesUtils.ReadDataFromFile();
        // LOG.info("Data saved into list successfully.:{}", coordinatesUtils.getLatitudeAndLongitude());
    }

    public void saveLatLongInList() {
        // String data =
        // "22.740921,75.850253\n22.739892,75.849996\n22.738546,75.849738\n22.737003,75.849481\n22.736013,75.849566\n22.734984,75.849652\n22.734192,75.849738\n22.734153,75.850725\n22.734113,75.851755\n22.734153,75.853086\n22.73443,75.85506\n22.734588,75.856133\n22.734509,75.857205\n22.73443,75.858278\n22.734351,75.859351\n22.734153,75.860424\n22.733322,75.861025\n22.73253,75.861626\n22.731738,75.862226\n22.730709,75.862784\n22.729838,75.863214\n22.728888,75.863214\n22.727938,75.862956\n22.727463,75.863857\n22.727186,75.864716\n22.726276,75.865359\n22.726593,75.866432\n22.726988,75.867376\n22.727661,75.867591\n22.728295,75.868063\n22.728928,75.868921\n22.728136,75.869007\n22.727345,75.869093\n22.726553,75.869179\n22.725524,75.869179\n22.724653,75.869136\n22.723782,75.869093\n22.722911,75.86905\n22.72204,75.869007\n22.72117,75.868964\n22.720219,75.866904\n22.719665,75.867934\n22.719705,75.868921\n22.719705,75.869908\n22.719824,75.870852\n22.718834,75.871453\n22.717884,75.87214\n22.716617,75.876045\n22.715746,75.875831\n22.714955,75.875101\n22.714282,75.874372\n22.714123,75.873556\n22.715192,75.869565\n22.714955,75.868449\n22.714915,75.867333\n22.715192,75.866303\n22.715786,75.865402\n22.716023,75.864372\n22.716261,75.863342\n22.716261,75.862141\n22.716301,75.860767\n22.71634,75.859394\n22.71638,75.858021\n22.716419,75.856647\n22.716459,75.855274\n22.716142,75.853901\n22.715825,75.852528\n22.715509,75.851154\n22.715192,75.849781\n22.715509,75.848665\n22.71543,75.847592\n22.71543,75.846477\n22.716419,75.846434\n22.717409,75.846348\n22.718399,75.846262\n22.719388,75.846176\n22.719863,75.845361\n22.719824,75.844674\n22.719784,75.843987\n22.719942,75.843301\n22.720219,75.842271\n22.720497,75.841241\n22.72117,75.842013\n22.721842,75.842485\n22.722515,75.842957\n22.723188,75.84343\n22.723188,75.844288\n22.72299,75.845146\n22.722793,75.846004\n22.722753,75.847077\n22.722713,75.84815\n22.722674,75.849223\n22.722357,75.850382\n22.72204,75.851541\n22.722238,75.852699\n22.722515,75.853858\n22.723228,75.853944\n22.724218,75.853472\n22.725207,75.853\n22.726197,75.852528\n22.727186,75.852056\n22.728176,75.851583\n22.729165,75.851111\n22.730472,75.850811\n22.731778,75.850511\n22.733044,75.850167\n22.734311,75.849824\n22.735578,75.849481\n22.737082,75.849481\n22.738586,75.849481\n22.74005,75.849781\n22.741515,75.850081\n";
        // String data =
        // "22.741844,75.847214\n22.741814,75.847324\n22.741784,75.847434\n22.741755,75.847544\n22.74168,75.847598\n22.741604,75.847571\n22.741527,75.847544\n22.741438,75.847525\n22.741349,75.847507\n22.74126,75.847488\n22.741171,75.847469\n22.741082,75.84745\n22.740993,75.847407\n22.740909,75.847402\n22.740869,75.847579\n22.740829,75.847756\n22.740817,75.84789\n22.740758,75.847887\n22.740698,75.847866\n22.740639,75.847844\n22.740575,75.847834\n22.74051,75.847823\n22.740446,75.847812\n22.740369,75.847785\n22.740293,75.847759\n22.740216,75.847732\n22.740176,75.847791\n22.740129,75.847844\n22.740075,75.847898\n22.740077,75.847812\n22.740008,75.847949\n22.739956,75.848016\n22.73985,75.848091\n22.739793,75.848164\n22.739729,75.848236\n22.739642,75.848309\n22.739558,75.848394\n22.739474,75.84848\n22.739419,75.848526\n22.739365,75.848571\n22.739311,75.848617\n22.739256,75.848663\n22.739192,75.848727\n22.739125,75.848791\n22.739058,75.848856\n22.738991,75.84892\n22.738925,75.848984\n22.738858,75.849049\n22.738791,75.849113\n22.738724,75.849178\n22.738653,75.84922\n22.738581,75.849263\n22.738482,75.849306\n22.738432,75.849341\n22.738378,75.849376\n22.738306,75.849397\n22.738242,75.849424\n22.738148,75.849456\n22.738069,75.849483\n22.738,75.849526\n22.73793,75.849569\n22.737861,75.849612\n22.737745,75.849596\n22.737628,75.84958\n22.737512,75.849564\n22.737396,75.849548\n22.73728,75.849532\n22.737156,75.849524\n22.737032,75.849515\n22.736889,75.849513\n22.736745,75.84951\n22.736602,75.849507\n22.736458,75.849505\n22.736315,75.849502\n22.736171,75.849499\n22.736028,75.849497\n22.735884,75.849494\n22.73582,75.849489\n22.73564,75.849489\n22.735459,75.849489\n22.735278,75.84951\n22.735098,75.849532\n22.734915,75.849553\n22.734826,75.849572\n22.73466,75.849609\n22.734494,75.849647\n22.734328,75.849684\n22.734239,75.849701\n22.73415,75.849717\n22.734061,75.849733\n22.73397,75.849805\n22.73398,75.84988\n22.73399,75.849955\n22.733999,75.85003\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.73399,75.849867\n22.734009,75.850106\n22.734032,75.85021\n22.734056,75.850315\n22.734069,75.850478\n22.734081,75.850642\n22.734093,75.850806\n22.734106,75.850969\n22.734138,75.851093\n22.73417,75.851216\n22.734202,75.851339\n22.734234,75.851463\n22.734205,75.851594\n22.73421,75.851728\n22.734244,75.851929\n22.734279,75.852131\n22.734314,75.852332\n22.734309,75.852533\n22.734304,75.852734\n22.734299,75.852935\n22.734333,75.853145\n22.734368,75.853375\n22.734403,75.853606\n22.734421,75.853842\n22.734422,75.853963\n22.734437,75.85412\n22.734452,75.854276\n22.734467,75.854433\n22.734482,75.85459\n22.734497,75.854747\n22.734511,75.854904\n22.734526,75.855061\n22.734541,75.855218\n22.734556,75.855375\n22.734571,75.855532\n22.734586,75.855689\n22.734601,75.855846\n22.734615,75.856002\n22.73463,75.856159\n22.734645,75.856316\n22.73466,75.856473\n22.734675,75.85663\n22.73469,75.856787\n22.734688,75.856948\n22.73467,75.85711\n22.734617,75.857298\n22.734582,75.857499\n22.734547,75.8577\n22.734513,75.857901\n22.734469,75.858132\n22.734426,75.858363\n22.734383,75.858593\n22.73434,75.858824\n22.734296,75.859055\n22.734253,75.859285\n22.73421,75.859516\n22.734166,75.859747\n22.734123,75.859977\n22.73408,75.860208\n22.734037,75.860439\n22.733971,75.860557\n22.733903,75.860679\n22.733816,75.860801\n22.733701,75.860926\n22.733568,75.861037\n22.733518,75.861053\n22.733468,75.861069\n22.733417,75.861085\n22.733376,75.861107\n22.733335,75.861128\n22.733294,75.861176\n22.733229,75.861225\n22.733163,75.861273\n22.733072,75.861332\n22.73298,75.861391\n22.732889,75.86145\n22.732797,75.861509\n22.732706,75.861584\n22.732614,75.861659\n22.732511,75.861732\n22.732409,75.861804\n22.732369,75.86182\n22.73233,75.861836\n22.732317,75.861868\n22.732305,75.861901\n22.732273,75.861926\n22.73224,75.861952\n22.732208,75.861977\n22.732176,75.862003\n22.732135,75.862025\n22.73209,75.862048\n22.732044,75.862071\n22.731998,75.862094\n22.731952,75.862117\n22.731904,75.862151\n22.731856,75.862186\n22.731808,75.862221\n22.731749,75.862249\n22.731691,75.862277\n22.731633,75.86232\n22.731566,75.862363\n22.731483,75.862413\n22.731401,75.862463\n22.731295,75.862523\n22.731184,75.862587\n22.731073,75.862652\n22.730953,75.862733\n22.730813,75.862815\n22.730673,75.862897\n22.730534,75.862979\n22.730394,75.863061\n22.730255,75.863161\n22.730149,75.863232\n22.730041,75.863294\n22.729922,75.863326\n22.729763,75.863341\n22.729584,75.863345\n22.729377,75.863314\n22.729146,75.863289\n22.728918,75.863203\n22.728681,75.863149\n22.728443,75.863096\n22.728206,75.863042\n22.727968,75.86301\n22.727731,75.862978\n22.727714,75.863016\n22.727697,75.86307\n22.72768,75.863124\n22.727666,75.863195\n22.727652,75.863286\n22.727639,75.863387\n22.727626,75.863488\n22.727613,75.86359\n22.7276,75.863691\n22.727594,75.863742\n22.727587,75.863792\n22.727581,75.863843\n22.727574,75.863893\n22.727568,75.863944\n22.727545,75.864037\n22.727528,75.864168\n22.727513,75.86434\n22.727416,75.864512\n22.727312,75.864614\n22.727209,75.864689\n22.727105,75.864764\n22.727001,75.864839\n22.726914,75.864957\n22.726828,75.865075\n22.726704,75.865228\n22.726573,75.865507\n22.726452,75.86588\n22.726427,75.866298\n22.726578,75.866604\n22.726632,75.866818\n22.726662,75.86677\n22.726709,75.866818\n22.726756,75.866867\n22.726803,75.866915\n22.726852,75.867017\n22.726981,75.867143\n22.727139,75.86728\n22.727298,75.867417\n22.727525,75.867553\n22.727812,75.867663\n22.728099,75.867779\n22.728248,75.86794\n22.728416,75.868237\n22.728584,75.868538\n22.728752,75.868803\n22.728693,75.868782\n22.728634,75.868795\n22.728574,75.868809\n22.728502,75.868827\n22.728431,75.868846\n22.728359,75.868865\n22.728287,75.868884\n22.728215,75.868903\n22.72818,75.868912\n22.728132,75.86892\n22.728091,75.868923\n22.728065,75.868925\n22.72804,75.868927\n22.728011,75.868933\n22.727982,75.868939\n22.727946,75.868944\n22.72791,75.868949\n22.727875,75.868954\n22.72775,75.868983\n22.727567,75.869012\n22.727345,75.869042\n22.72708,75.869082\n22.726766,75.869125\n22.726385,75.869125\n22.726071,75.869093\n22.725734,75.869085\n22.72537,75.869077\n22.724982,75.869069\n22.724574,75.869061\n22.724156,75.869018\n22.723723,75.868959\n22.72329,75.8689\n22.722785,75.868873\n22.722233,75.868827\n22.721748,75.868809\n22.721264,75.86879\n22.720695,75.868736\n22.720331,75.868728\n22.719999,75.868779\n22.719925,75.868795\n22.71974,75.868868\n22.719613,75.868929\n22.719544,75.86897\n22.719475,75.86901\n22.719406,75.86905\n22.719457,75.869157\n22.719551,75.869216\n22.719675,75.869329\n22.719754,75.869549\n22.719834,75.869769\n22.719834,75.870064\n22.719784,75.87045\n22.71967,75.870708\n22.719556,75.870954\n22.719403,75.871131\n22.719141,75.871303\n22.718879,75.871475\n22.718616,75.871646\n22.718354,75.871818\n22.717968,75.872059\n22.717602,75.872328\n22.717463,75.872408\n22.717453,75.872242\n22.717444,75.872076\n22.717483,75.871909\n22.717523,75.871743\n22.717562,75.871448\n22.717646,75.870885\n22.717676,75.870321\n22.717745,75.869758\n22.717844,75.869286\n22.718047,75.869018\n22.717924,75.869088\n22.718146,75.86912\n22.718364,75.869152\n22.718874,75.869152\n22.719334,75.869152\n22.719769,75.868868\n22.720175,75.868739\n22.720556,75.868766\n22.721031,75.868776\n22.721862,75.868814\n22.722748,75.868916\n22.723752,75.868959\n22.724796,75.869071\n22.726063,75.869125\n22.727137,75.869082\n22.728102,75.868921\n22.728636,75.868798\n22.72872,75.868744\n22.728587,75.86853\n22.728403,75.868235\n22.728191,75.867918\n22.727572,75.867559\n22.726954,75.867119\n22.726573,75.866598\n22.726439,75.866169\n22.726464,75.865729\n22.726672,75.86529\n22.727092,75.864785\n22.727503,75.864367\n22.727587,75.863873\n22.727711,75.862935\n22.727894,75.862924\n22.728344,75.86301\n22.72878,75.863128\n22.729279,75.863203\n22.729779,75.863219\n22.730175,75.863101\n22.730491,75.862892\n22.730887,75.862661\n22.731526,75.862221\n22.731941,75.86199\n22.732208,75.861851\n22.732386,75.861781\n22.732594,75.861679\n22.732975,75.861384\n22.733356,75.861143\n22.733658,75.860853\n22.733826,75.860601\n22.73399,75.860231\n22.734088,75.85977\n22.734222,75.85912\n22.734356,75.85845\n22.734514,75.857549\n22.734623,75.856878\n22.734544,75.856073\n22.734514,75.855408\n22.73446,75.854786\n22.734385,75.854035\n22.734311,75.853284\n22.734272,75.852522\n22.734232,75.851761\n22.734143,75.851117\n22.734091,75.850728\n22.734032,75.85017\n22.734061,75.849746\n22.734137,75.84973\n22.734249,75.84971\n22.734432,75.84965\n22.734607,75.849613\n22.73479,75.849577\n22.734973,75.849541\n22.735074,75.849521\n22.735213,75.849517\n22.735421,75.849505\n22.735609,75.849568\n22.735828,75.849556\n22.735824,75.849497\n22.735912,75.849479\n22.736002,75.849478\n22.736092,75.849494\n22.736237,75.849501\n22.736289,75.849499\n22.736429,75.849507\n22.736572,75.849513\n22.736716,75.849518\n22.736998,75.849524\n22.737438,75.849556\n22.737878,75.849593\n22.738195,75.849668\n22.73865,75.849738\n22.739105,75.849808\n22.739137,75.849711\n22.739202,75.849486\n22.739264,75.849261\n22.739041,75.849229\n22.738846,75.849191\n22.738784,75.849105\n22.738949,75.848933\n22.739115,75.848818\n22.73935,75.848612\n22.739555,75.848416\n22.739813,75.84814\n22.74006,75.847901\n22.740191,75.847735\n22.740409,75.847772\n22.740649,75.847866\n22.740834,75.847785\n22.740941,75.847295\n22.740946,75.847136\n22.741203,75.847045\n22.741539,75.847131\n22.741821,75.847217\n";
        String data = ReadDataFromFile();

        latLongArray = splitValue(data, "\n");
        LOG.info("Data saved into list successfully.");

    }

    public void setLatitudeAndLongitude() {
        if (LAT_LONG_COUNT == latLongArray.length) {
            LAT_LONG_COUNT = 0;
            LOG.info("Set cursor at start point");
        }
        String temp = latLongArray[LAT_LONG_COUNT++];
        latitude = parseStringToFloat(splitValue(temp, ",")[0]);
        longitude = parseStringToFloat(splitValue(temp, ",")[1]);
    }

    public String[] splitValue(String data, String format) {
        return data.split(format);
    }

    public float parseStringToFloat(String value) {
        return (value != null) ? Float.parseFloat(value) : 0.0f;
    }

    public float getLatitude() {
        return latitude;
    }

    public void setLatitude(float latitude) {
        this.latitude = latitude;
    }

    public float getLongitude() {
        return longitude;
    }

    public void setLongitude(float longitude) {
        this.longitude = longitude;
    }

    public String ReadDataFromFile() {

        String filePath = System.getProperty("user.dir");
        filePath = filePath + "/" + ConfigUtil.getConfigProp("FILE_NAME");

        StringBuilder fileData = new StringBuilder();
        String line = "";
        String cvsSplitBy = "\n";

        BufferedReader br = null;
        try {

            FileReader fileReader = new FileReader(filePath);
            System.out.println("----------------" + fileReader);
            br = new BufferedReader(fileReader);
            System.out.println("------------------" + filePath.length());
            while ((line = br.readLine()) != null) {

                String[] output = line.split(cvsSplitBy);
                fileData.append(output[0]).append("\n");

                System.out.println("----------output " + line);

            }
            return fileData.toString();

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (br != null) {
                try {
                    br.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        return fileData.toString();
    }

}
